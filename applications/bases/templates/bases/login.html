{% extends 'base.html' %}

{% load static %}

{% block body %}
    <body class="login">
        <div class="container sm:px-10">
            <div class="block xl:grid grid-cols-2 gap-4">
                <!-- BEGIN: Login Info -->
                <div class="hidden xl:flex flex-col min-h-screen">
                    <a href="" class="-intro-x flex items-center pt-5">
                        <img alt="LogoTipo del Sistema ERP de TICOM" class="w-6" src="{% static 'dist/images/logo.svg' %}">
                        <span class="hidden xl:block text-white text-lg ml-3 font-medium">TICOM</span>
                    </a>
                    <div class="my-auto">
                        <img alt="Imagen de Presentación del Sistema ERP de TICOM" class="-intro-x w-1/2 -mt-16" src="{% static 'dist/images/illustration.svg' %}">
                        {% if not form.errors %}
                        <div class="-intro-x text-white text-left font-medium text-4xl leading-tight mt-10">
                            Estás a pocos click de iniciar sesión <br> en tu sistema empresarial
                        </div>
                        {% else %}
                        <div class="-intro-x mt-5 text-xl text-white text-opacity-70 font-medium dark:text-gray-500">
                            Por favor, introduzca un nombre de usuario y clave correctos. <br> Observe que ambos campos pueden ser sensibles a mayúsculas.
                        </div>
                        {% endif %}
                    </div>
                </div>
                <!-- END: Login Info -->
                <!-- BEGIN: Login Form -->
                <div class="h-screen xl:h-auto w-4/5 flex py-5 xl:py-0 my-10 xl:my-0">
                    <div class="my-auto mx-auto xl:ml-20 bg-white dark:bg-dark-1 xl:bg-transparent px-5 sm:px-8 py-8 xl:p-0 rounded-md shadow-md xl:shadow-none w-full sm:w-3/4 lg:w-2/4 xl:w-auto">
                        <h2 class="intro-x font-bold text-2xl xl:text-3xl text-center">
                            Inicio de Sesión
                        </h2>
                        {% if not form.errors %}
                        <div class="intro-x mt-2 text-gray-500 xl:hidden text-center">Estás a pocos click de iniciar sesión en tu sistema empresarial</div>
                        {% else %}
                        <p class="intro-x my-5 text-red-500 xl:hidden text-center">
                            {% for field in form %}
                                {% if field.errors %}
                                    {% for error in field.errors %}
                                        {{ error|escape }}
                                    {% endfor %}
                                {% endif %}
                            {% endfor %}
                            
                            {% if form.non_field_errors%}
                                {% for error in form.non_field_errors %}
                                    {{ error|escape }}
                                {% endfor %}
                            {% endif %}
                        </p>
                        {% endif %}
                                            
                        <form method="post">
                            {% csrf_token %}

                            <div class="intro-x mt-8">
                                <input type="text" name="username" id="id_username" class="intro-x login__input form-control py-3 px-4 border-gray-300" placeholder="Usuario" autofocus required>
                                <input type="password" name="password" id="id_password" class="intro-x login__input form-control py-3 px-4 border-gray-300 mt-4" placeholder="Contraseña" autofocus required>
                            </div>
                            <div class="intro-x flex text-gray-700 dark:text-gray-600 text-xs sm:text-sm mt-4">
                                <div class="flex items-center mr-auto">
                                    <input id="remember-me" type="checkbox" class="form-check-input border mr-2">
                                    <label class="cursor-pointer select-none" for="remember-me">Remember me</label>
                                </div>
                                <a href="">Forgot Password?</a> 
                            </div>
                            <div class="intro-x mt-5 xl:mt-8 text-center xl:text-left">
                                <button class="btn btn-primary py-3 px-4 w-full xl:mr-3 align-top" type="submit">Login</button>
                            </div>
                        </form>
                        <!--
                        <div class="intro-x mt-10 xl:mt-24 text-gray-700 dark:text-gray-600 text-center xl:text-left">
                            By signin up, you agree to our 
                            <br>
                            <a class="text-theme-1 dark:text-theme-10" href="">Terms and Conditions</a> & <a class="text-theme-1 dark:text-theme-10" href="">Privacy Policy</a> 
                        </div>
                        -->
                    </div>
                </div>
                <!-- END: Login Form -->
            </div>
        </div>
{% endblock body %}

{% block js %}

    <script>
        {% if form.errors %}
            {% for field in form %}
                {% if field.errors %}
                    {% for error in field.errors %}
                        message('{{ error|escape }}', 'red');
                    {% endfor %}
                {% endif %}
            {% endfor %}
        
            {% if form.non_field_errors%}
                {% for error in form.non_field_errors %}
                    message('{{ error|escape }}', 'red');
                {% endfor %}
            {% endif %}
        {% endif %}
    </script>

{% endblock js %}
